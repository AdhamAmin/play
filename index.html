<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Dr. WEEE E-Waste Racing Championship - Educational racing game teaching environmental conservation">
    <title>Dr. WEEE Racing Championship</title>

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
</head>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen active">
        <div class="loading-content">
            <div class="logo-container">
                <h1 class="game-title">DR. WEEE</h1>
                <p class="game-subtitle">Racing Championship</p>
            </div>
            <div class="loading-bar-wrapper">
                <div class="loading-bar">
                    <div class="loading-progress" id="loading-progress"></div>
                </div>
                <p class="loading-text" id="loading-text">Initializing Eco-Engine...</p>
            </div>
            <div class="eco-tip">
                <p id="eco-tip-text">Did you know? Recycling 1 million laptops saves energy equal to powering 3,500
                    homes for a year!</p>
            </div>
        </div>
        <div class="particles-background"></div>
    </div>

    <!-- Circular Language Selector -->
    <div id="language-selector-circle" class="language-circle">
        <div class="language-circle-button" id="lang-toggle">
            <span class="current-lang-flag" id="current-lang-flag">ğŸ‡¬ğŸ‡§</span>
        </div>
        <div class="language-dropdown" id="language-dropdown">
            <button class="lang-option" data-lang="en" data-flag="ğŸ‡¬ğŸ‡§">
                <span class="flag">ğŸ‡¬ğŸ‡§</span> English
            </button>
            <button class="lang-option" data-lang="ar" data-flag="ğŸ‡¸ğŸ‡¦">
                <span class="flag">ğŸ‡¸ğŸ‡¦</span> Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
            </button>
            <button class="lang-option" data-lang="it" data-flag="ğŸ‡®ğŸ‡¹">
                <span class="flag">ğŸ‡®ğŸ‡¹</span> Italiano
            </button>
            <button class="lang-option" data-lang="es" data-flag="ğŸ‡ªğŸ‡¸">
                <span class="flag">ğŸ‡ªğŸ‡¸</span> EspaÃ±ol
            </button>
        </div>
    </div>

    <!-- Language Selector (first time modal) -->
    <div id="language-selector" class="modal">
        <div class="modal-content glass-panel">
            <h2>Select Language / Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ© / Seleziona Lingua / Seleccionar Idioma</h2>
            <div class="language-grid">
                <button class="language-btn" data-lang="en">
                    <span class="flag">ğŸ‡¬ğŸ‡§</span>
                    <span class="lang-name">English</span>
                </button>
                <button class="language-btn" data-lang="ar">
                    <span class="flag">ğŸ‡¸ğŸ‡¦</span>
                    <span class="lang-name">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                </button>
                <button class="language-btn" data-lang="it">
                    <span class="flag">ğŸ‡®ğŸ‡¹</span>
                    <span class="lang-name">Italiano</span>
                </button>
                <button class="language-btn" data-lang="es">
                    <span class="flag">ğŸ‡ªğŸ‡¸</span>
                    <span class="lang-name">EspaÃ±ol</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="screen">
        <!-- Animated Sky Background -->
        <div class="sky-background">
            <div class="cloud cloud-1"></div>
            <div class="cloud cloud-2"></div>
            <div class="cloud cloud-3"></div>
            <div class="cloud cloud-4"></div>
            <div class="cloud cloud-5"></div>
            <div class="cloud cloud-6"></div>
        </div>

        <div class="menu-container">
            <div class="menu-header">
                <h1 class="main-title">DR. WEEE</h1>
                <p class="main-subtitle" data-i18n="menu.subtitle">Racing Championship</p>
            </div>

            <!-- Game Mode Selection -->
            <div class="game-modes">
                <div class="mode-card" id="adventure-mode">
                    <div class="mode-icon">ğŸ—ºï¸</div>
                    <h2 class="mode-title" data-i18n="menu.adventure">Adventure</h2>
                    <p class="mode-description" data-i18n="menu.adventureDesc">Explore missions and learn about e-waste
                    </p>
                    <div class="mode-features">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ¯</span>
                            <span data-i18n="menu.missions">Missions</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">â­</span>
                            <span data-i18n="menu.achievements">Achievements</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ï¿½</span>
                            <span data-i18n="menu.learning">Learning</span>
                        </div>
                    </div>
                </div>

                <div class="mode-card" id="race-mode">
                    <div class="mode-icon">ğŸï¸</div>
                    <h2 class="mode-title" data-i18n="menu.race">Race</h2>
                    <p class="mode-description" data-i18n="menu.raceDesc">Customize your vehicle and compete</p>
                    <div class="mode-features">
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ¨</span>
                            <span data-i18n="menu.customize">Customize</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ‘¥</span>
                            <span data-i18n="menu.multiplayer">Multiplayer</span>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">ğŸ†</span>
                            <span data-i18n="menu.leaderboard">Leaderboard</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="eco-stats">
                <div class="stat-item">
                    <span class="stat-value" id="total-recycled">0</span>
                    <span class="stat-label" data-i18n="menu.stats.recycled">Items Recycled</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="total-stars">0</span>
                    <span class="stat-label" data-i18n="menu.stats.stars">Stars Collected</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Canvas -->
    <div id="game-container" class="hidden">
        <canvas id="game-canvas"></canvas>

        <!-- HUD Overlay -->
        <div id="hud" class="hud">
            <div class="hud-top">
                <div class="hud-left">
                    <div class="position-indicator">
                        <span class="position-number" id="player-position">1</span>
                        <span class="position-suffix">st</span>
                    </div>
                    <div class="lap-counter">
                        <span data-i18n="hud.lap">Lap</span>
                        <span id="current-lap">1</span>/<span id="total-laps">3</span>
                    </div>
                </div>

                <div class="hud-center">
                    <div class="mission-name" id="mission-name">Battery Basics - Level 1</div>
                    <div class="educational-tip" id="current-tip"></div>
                </div>

                <div class="hud-right">
                    <div class="speed-meter">
                        <div class="speed-label" data-i18n="hud.speed">SPEED</div>
                        <div class="speed-value">
                            <span id="current-speed">0</span>
                            <span class="speed-unit">km/h</span>
                        </div>
                        <div class="speed-bar">
                            <div class="speed-fill" id="speed-fill"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="hud-bottom">
                <div class="powerup-display" id="powerup-display">
                    <div class="powerup-icon" id="powerup-icon"></div>
                    <div class="powerup-name" id="powerup-name">No Power-Up</div>
                </div>

                <div class="minimap" id="minimap">
                    <canvas id="minimap-canvas" width="200" height="200"></canvas>
                </div>
            </div>
        </div>

        <!-- Pause Menu -->
        <div id="pause-menu" class="modal hidden">
            <div class="modal-content glass-panel">
                <h2 data-i18n="pause.title">Paused</h2>
                <div class="pause-buttons">
                    <button class="menu-btn primary" id="btn-resume">
                        <span data-i18n="pause.resume">Resume</span>
                    </button>
                    <button class="menu-btn" id="btn-restart">
                        <span data-i18n="pause.restart">Restart</span>
                    </button>
                    <button class="menu-btn" id="btn-quit">
                        <span data-i18n="pause.quit">Quit to Menu</span>
                    </button>
                </div>
            </div>
        </div>
        <script src="js/engine/InputManager.js"></script>
        <script src="js/engine/Physics.js"></script>
        <script src="js/engine/CameraController.js"></script>
        <script src="js/engine/LightingSystem.js"></script>
        <script src="js/engine/GameEngine.js"></script>

        <!-- Game Systems -->
        <script src="js/characters/Character.js"></script>
        <script src="js/characters/CharacterRoster.js"></script>
        <script src="js/racing/Track.js"></script>
        <script src="js/racing/PowerUps.js"></script>
        <script src="js/missions/MissionData.js"></script>
        <script src="js/missions/MissionManager.js"></script>
        <script src="js/ai/AIController.js"></script>
        <script src="js/effects/ParticleSystem.js"></script>
        <script src="js/effects/AnimationController.js"></script>

        <!-- UI -->
        <script src="js/ui/MainMenu.js"></script>
        <script src="js/ui/HUD.js"></script>
        <script src="js/ui/Leaderboard.js"></script>
        <script src="js/ui/PauseMenu.js"></script>

        <!-- Data & Customization -->
        <script src="js/data/StorageManager.js"></script>
        <script src="js/customization/VehicleCustomizer.js"></script>
        <script src="js/customization/ModeSelector.js"></script>

        <!-- Audio -->
        <script src="js/audio/SoundManager.js"></script>

        <!-- Main App -->
        <script src="js/app.js"></script>
</body>

</html>